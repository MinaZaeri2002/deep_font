import os
import time
import json
import base64
import random
import requests
from PIL import Image
from io import BytesIO
from urllib.parse import quote


url = "https://fontiran.com/lab/allFonts"
response = requests.get(url)
result = json.loads(response.content.decode('utf-8'))

fonts_persian = []
fonts_english = []
for font in result:
    fonts_persian.append(font['font'])
    fonts_english.append(font['link'].removeprefix('https://fontiran.com/fonts/'))

texts = [
    'یلداتون مبارک',
    'تخفیف',
    'بنر تبلیغاتی',
    'حراجستون یلدایی',
    'اینجا، بهروز گروپ!',
    'استدیو',
    'استدیو عکاسی',
    'دیجی کالا',
    'فروش',
    'خوشبخت',
    'از رقبا متمایز شوید',
    'تبلیغ',
    'پیکاسو',
    'فروش بزرگ',
    'ماهان',
    'حال زیگ چطوره؟',
    'ماه کارآفرینی',
    'کنسرت آنلاین',
    'نامی نو',
    'شودر',
    'تحفه',
    'چون تو مهمی',
    'خودرو',
    'کیفیت',
    'این حساب خوبی است',
    'شما به مرحله اول #بازی-مرتب دعوت شدین',
    'اسنحساب خوبی است',
    'عطر طبیعت همراه شماست',
    'بشکون و ببر',
    'بازار',
    'کافه بازار',
    'پرداخت تمام قبوض',
    'بانک مسکن',
    'چهامین کنفرانستجربه کاربر شیراز',
    'کرونا، آناناس!',
    'تنوع قیمت',
    'ماهی رو از ما بخرید',
    'بانی مد',
    'از این خرید شگفت‌زده می‌شوید.',
    'ستاره باش',
    'پرداخت ملت',
    'عصر جدید',
    'دئودرانت',
    'راه و رسم مامعتبر است',
    'فیتزی فانزی',
    'برندگان جشنواره بین‌المللی فیلم کوتاه نهال',
    'هیئت داوران',
    'اختتامیه جشنواره بین المللی فیلم کوتاه نهال',
    'تالار فارابی',
    'اکران تایپ فیس',
    'تمام محصولات این فروشگاه با نهایت کیفیت و گارانتی به مخاطبان گرامی در سرتاسر ایران ارائه می‌شود.',
    ')(*،×٪﷼٫٬!/-+',
    '۱۲۳۴۵۶۷۸۹۰',
    'مادوپار',
    'لامبورگینی',
    'مارادونا',
    'گالاتاسرای',
    'اورانگوتان',
    'کلاشینکوف',
    'املت لاکچری',
    'سانجیلاندیرانارداندی',
    'کراکوف بلغاری',
    'کوکاکولا',
    'کادیلاک',
    'همبرگر ذغالی',
    'سالاد سزار',
    'قهوه آمریکانو',
    'نوروز مبارک',
    'مهران گالری',
    'دلینا',
    'دسر پرتقالی',
    'قربانیان کوچک',
    'عملیات بیت المقدس',
    'پیونا',
    'خونین شهر دوباره می‌ایستد...',
    'موجودی کافی است',
    'کارت اعتباری بانک دی',
    'درسان',
    'باشگاه ورزشی مدرن اسپرت',
    'پیرایش مردانه کارلوس',
    'متخصص پوست و مو',
    'دکتر',
    'سامانه آنلاین',
    'کار و خدمات',
    'تلگرام',
    'اینستاگرام',
    'سایت',
    'فیسبوک',
    'جسنواره ویژه',
    'باغستان',
    'آجیل و خشکبار',
    'پرتقال، به راحتی خرید کن!',
    'طراح برتر',
    'دانلود',
    'کتاب',
    'رایگان',
    'مادوکس',
    'اسپاتیفای',
    'دکوراسیون داخلی اسپارتا',
    'انفجار فروش',
    'فضای تبلیغاتی',
    'میهن',
    'کاله',
    'پاندا',
    'دومینو',
    'آنلاین بخرید',
    'سان تاپ',
    'کمپین',
    'بیلبورد',
    'اسنپ',
    'اسنپ فود',
    'چای با لیمو تازه',
    'خودرو قطعات',
    'فروشگاه بزرگ',
    'کوروش',
    'وایت',
    'گوشیتو با ضمانت دی‌جی سرویس بخر',
    'شهر، در دست تو',
    'بازم مثل همیشه',
    'شیراز',
    'بیمه پاسارگاد',
    'مرکز طراحی و چاپ پاپیروس',
    'فست‌فود برگرلند',
    'میکائیل',
    'امشب در سر شوری دارم',
    'راز ویکتوریا',
    'آیس کارامل ماکیاتو',
    'فقط یک شانس!',
    'تا بلیت شاتل نجات',
    'وحشی بافقی',
    'چون از صفر ساختیم نمی‌شیم ورشکسته',
    'ایرج میرزا',
    'دیزنی‌لند',
    'استیک آنترکت',
    'جی-شاک محدودیت ها رو به چالش بکش',
    'پال‌هنگ',
    'فقط تو می‌تونی',
    'جسنواره آواره',
    'اقساط تا انتهای زندگی',
    'سنجش اعتباری',
    'دشت اول',
    'ایده‌های خلاق دیده می‌شوند!',
    'پشت دیوارهای مشبک',
    'پرفروش‌هااینجوری فروختن',
    'همون پرواز، همون بلیط ولی با قیمت‌های مختلف',
    'ربودن',
    'بیمه معلم',
    'مقم اول',
    'خانه دوست',
    'معرفی کالکشن ماهی',
    'رایتل نیوز',
    'زیر این تابلو یه مزرعه است!',
    'هشتمین دوره روایتگردی کسب و کار',
    'رشد همون خوشمزگی همیشگی در بسته بندی جدید',
    'هدیه‌تو خودت بساز!',
    'گنجیشککای بی‌نام و نشون',
    'این ماشینم نیست پای سفرمه!',
    'شناخت مسیر کسب و کار ویژه جوانان',
    'افطاری ساده',
    'دیزاین تجربه کاربر',
    'شما به یک گوشی خاص نیاز دارید',
    'تغییر به بهترین حالت',
    'سرمایه از دست رفته',
    'ایمنی در اوج',
    'عیدی بده!عیدی بگیر!',
    'کارشناس دیجیتال مارکتینگ',
    'پنیر پیتزا',
    'جمشید',
    'با سرعت زمان بخر',
    'آنتِلیوس',
    'چالش بین‌المللی بِبراس',
    'تَفکر رایانشی',
    'تجزیه',
    'ساده اما چشمگیر',
    'کریپتوباز',
    'شانزالیزه',
    'الکتروموتورآب',
    'مستطاب آشپزی',
    'سیاه چاله',
    '((خانواده حروف انجمن)) در بخش تایپ فیس',
    'برندهٔ جایزه اول و تندیس',
    'ششمین دوسالانه سرو نقره‌ای',
    'هیچکس، تنها نیست...',
    'زیبا، جادار، مطمئن',
    'بانک خوب سرمایه است',
    'بزن شارژ شی',
    'طعم خوب لحظه‌ها',
    'یه گاز خوشمزه...',
    'هوش منصوعی',
    'چوب جادوی هری‌پاتر در دست همه!',
    'هوش منصوعی یا سوسک کهربا ساز',
    'گسترش فرهنگ توهین و افراط گرایی',
    'پیتزا پپرونی',
    'فقط یه ایرونی می‌دونه دلتنگی غروب جمعه یعنی چی!',
    'اسنوا',
    'یک برش حسابی',
    'از بلافاصله بگیرید.',
    'چرختون بچرخه',
    'فلفل',
    'به اندازه دلخواه',
    'تلوزیون های سری پانوراما اسنوا',
    'من آنِ تواَم مرا به من باز مده...',
    'چسپ کاسین ول کن نیست',
    'کارگاه تایپوگرافی در زیورآلات',
    'از پیشم نرو',
    'خبره‌ترین‌ها، در خدمت تو',
    'فَرآشپز',
    'منو هفتگی',
    'از صفرِ صفر شروع کن!',
    'نوروز هزار و چهارصد مبارک',
    'دور، دورِ شماست',
    'جشنوراه پاییزه فرش وزرا',
    'آدرس',
    'احاره آپارتمان در تهران',
    'در جست‌جوی چه خانه‌ای هستید؟',
    'شباهنگ معراج',
    'شهریار',
    'مجمع الجزایر گولاگ',
    'چشمهایش',
    'گلبرگ',
    'هیچکس',
    'پوستر تایپوگرافی مجموعه سخنرانی',
    'خدمات مبتنی بر وب',
    'مطالعه عمومی آقایان',
    'مطالعه پژوهشگران',
    'تازه های کتاب',
    'زاهنمای کتابخانه',
    'تخفیف شگفت انگیز',
    '«این فونتِ پلاکِ خودرو نیست، لطفا در خرید خود دقت کنید.»',
    'تابستان زیبای من',
    'با محصولات باورنکردنی',
    'و تخفیف های تکرار نشدنی',
    'مشاهده تخفیف ها',
    'هرگزتسلیم نشوید',
    'خندوانه',
    'بانک سامان',
    'شبکه مستند',
    'فیلیمو',
    'باغ کتاب تهران',
    'سامسونگ',
    'توجه!'
    ]


for i in range(20):
    count = 0
    for j in range(1d):
        count = j + 1
        font_url = f"https://fontiran.com/lab/generateImages?font={quote(fonts_persian[i])}&weight=firstdefault&text=تست&page=six&width=1320"

        response = requests.get(font_url)

        data = response.json()
        image_data_base64 = data["72"].replace('data:image/webp;base64,', '')
        image_data = base64.b64decode(image_data_base64)
        image = Image.open(BytesIO(image_data)).convert('RGBA')

        background = Image.new('RGBA', image.size, (255, 255, 255))
        white_bg_image = Image.alpha_composite(background, image).convert('RGB')

        file_path = f'sample/'
        if not os.path.exists(file_path):
            os.makedirs(file_path, exist_ok=True)

        white_bg_image.save(f'{file_path}/{fonts_english[i]}{count}.jpg', 'jpeg')

        time.sleep(5)
    print(f'{fonts_english[i]} done...')